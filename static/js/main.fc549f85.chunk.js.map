{"version":3,"sources":["components/NavigationBar.js","components/ScrollableDesc.js","components/FieldSelect.js","components/NotFound.js","DataType.js","components/DataView.js","components/CrossTabView.js","Colors.js","Utils.js","components/ChartView.js","components/CategoricalDisplay.js","components/StatBubble.js","components/HistogramView.js","NumberFormats.js","components/NumericDisplay.js","components/TreatmentChartView.js","components/DummyChartView.js","components/ChartLegend.js","components/TreatmentDisplay.js","components/DataDisplay.js","components/DataPage.js","components/VariableDescription.js","components/QuestionSelector.js","components/DataPageAlt.js","components/HomePage.js","components/BackgroundPage.js","App.js","index.js"],"names":["NavigationBar","surveyLinks","Object","keys","surveys","map","surveyId","survey","className","activeClassName","to","title","exact","React","Component","ScrollableDesc","textStyle","minHeight","this","props","maxHeight","height","dangerouslySetInnerHTML","__html","content","style","ref","descDivRef","PureComponent","FieldSelect","slctDivRef","createRef","slctRef","options","dict","optionComponents","key","option","value","id","selectedTitle","selected","selectedDescription","description","size","onChange","handleSelect","current","selectedIndex","NotFound","DataType","CATEGORICAL","NUMERIC","TREATMENT","DataView","selectedQuestion","selectedGroup","width","elementId","componentDidUpdate","renderFunction","data","filter","x","CrossTabView","renderCrossTabs","cleanData","group","response","numeric","$","pivot","rows","aggregator","pivotUtilities","aggregators","document","getElementsByClassName","innerHTML","cols","Colors","Histogram","Categorical","Gradient3","Gradient4","Gradient5","Utils","getUniqueDictVals","sorter","v","i","a","indexOf","trim","length","sort","getProportions","groupKey","groupVal","responseKey","responseVals","countsDict","getQuestionSorter","question","sortAs","b","localeCompare","getGroupSorter","getColorPattern","colorPattern","color","ChartView","renderChart","bind","newX","allData","sorters","renderer","c3_renderers","rendererOptions","c3","parent","pattern","legend","item","onclick","c3Override","getElementById","getElementsByTagName","remove","ChartLabel","baseVal","CategoricalDisplay","StatBubble","classNames","active","href","onClick","e","preventDefault","handleClick","formatter","stat","toFixed","HistogramView","renderHistogram","nextProps","nextState","chart","dataNumeric","Number","scale","d3","scaleLinear","domain","min","max","range","histogram","thresholds","ticks","bins","binSizes","categories","bin","correctBin","correct","load","columns","generate","bindto","types","grid","lines","text","class","position","axis","type","bar","ratio","NumberFormats","percent","s","dollar","NumericDisplay","state","selectedGroupVal","averages","calcAverages","format","statBubbles","marginBottom","average","createClickHandler","correctDiv","undefined","fontSize","toLowerCase","setState","filteredData","sortedData","acc","All","sum","count","groupId","questionId","row","k","TreatmentChartView","show","y","DummyChartView","displayElts","overflow","marginTop","ChartLegend","legendItems","val","backgroundColor","margin","TreatmentDisplay","chartViews","questions","treatments","descriptions","DataDisplay","specificDisplay","Error","dataCache","DataPage","selectedTopic","handleGroupSelect","handleTopicSelect","handleQuestionSelect","groups","additionalGroups","topics","surveyData","csv","process","then","event","target","QuestionSelector","topicTitle","topicDescription","questionTitle","questionDescription","receiveSelection","selectedContent","handleContentSelect","HomePage","App","surveyRoutes","path","component","basename","BackgroundPage","ReactDOM","render"],"mappings":"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","file":"static/js/main.fc549f85.chunk.js","sourcesContent":["import React from 'react'\nimport '../css/NavigationBar.css'\nimport { NavLink } from 'react-router-dom'\nimport { surveys } from '../config/fields.json'\n\nexport default class NavigationBar extends React.Component { \n    constructor() {\n        super();\n    }\n    render() {\n        let surveyLinks = Object.keys(surveys).map(surveyId => {\n            let survey = surveys[surveyId]\n            return (\n                <li className = \"nav-item\">\n                    <NavLink className=\"nav-link\" activeClassName=\"active\" to={`/survey/${surveyId}`}>\n                        {survey.title}\n                    </NavLink>\n                </li>\n            )\n        })\n        return (\n            <ul className = \"nav nav-tabs\">\n                <li className = \"nav-item\">\n                    <NavLink exact className=\"nav-link\" activeClassName=\"active\" to=\"/\">\n                        Home\n                    </NavLink> \n                </li>\n                <li className = \"nav-item\">\n                    <NavLink exact className=\"nav-link\" activeClassName=\"active\" to=\"/background\">\n                        Background\n                    </NavLink> \n                </li>\n                {surveyLinks}\n            </ul>\n        )\n    }\n    componentDidMount() {\n\n    }\n}","import React from 'react'\n\nexport default class ScrollableDesc extends React.PureComponent {\n    render() {\n        let textStyle = {\n            minHeight : this.props.minHeight,\n            maxHeight : this.props.maxHeight,\n            height : this.props.height\n        }\n        return (\n            <div>\n                <div className = \"row\">\n                    <strong>{this.props.title}</strong>\n                </div>\n                <span className = \"row scrolling\" dangerouslySetInnerHTML={{__html : this.props.content}} style = {textStyle} ref = {this.descDivRef}>\n                </span>\n            </div>\n        )\n    }\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport '../css/FieldSelect.css'\nimport '../App.css'\nimport ScrollableDesc from './ScrollableDesc';\n\nexport default class FieldSelect extends React.Component { \n    constructor() { \n        super();\n        this.slctDivRef = React.createRef();\n        this.descDivRef = React.createRef();\n        this.slctRef = React.createRef();\n    }\n\n    render() {\n        if(!this.props.options) {\n            return null;\n        }\n        let optionComponents = getValues(this.props.options).map((option) => {\n            return <option value = {option.id}>{option.title}</option>\n        });\n        let selectedTitle = this.props.selected ? this.props.options[this.props.selected].title : \"\";\n        let selectedDescription = this.props.selected ? this.props.options[this.props.selected].description : \"\";\n        return (\n            <div className = \"FieldSelect\">\n                <div className = \"row\">\n                    <h4>{this.props.title}</h4>\n                </div>\n                <div className = \"row\">\n                    <span>{this.props.description}</span>\n                </div>\n                <div className = \"row slctDiv\" ref = {this.slctDivRef}>\n                    <select className = \"align-left\" size = {7} ref = {this.slctRef} value = {this.props.selected} onChange={this.props.handleSelect}>\n                        {optionComponents}\n                    </select>\n                </div>\n                <ScrollableDesc \n                    title = {selectedTitle} \n                    content = {selectedDescription}\n                    height = \"125px\"\n                />\n            </div>\n        );\n    }\n\n    componentDidUpdate() {\n        if(this.slctRef.current && !this.props.selected) { \n            this.slctRef.current.selectedIndex = \"-1\";\n        }\n    }\n}\n\nfunction getValues(dict) {\n    return Object.keys(dict).map(key => dict[key])\n}\n\nFieldSelect.propTypes = { \n    title : PropTypes.string,\n\n}","import React from 'react'\n\nexport default class NotFound extends React.Component {\n    render() {\n        return (\n            <div>\n                <h1>Page not found</h1> <br/>\n                <h3>Please double check the URL and try again</h3>\n            </div>\n        )\n    }\n}","const DataType = \n{\n    CATEGORICAL :  \"CATEGORICAL\", \n    NUMERIC : \"NUMERIC\",\n    TREATMENT : \"TREATMENT\"\n}\n\nexport default DataType;","import React from 'react'\n\nexport default class DataView extends React.Component {\n    render() {\n        if(!this.props.selectedQuestion || !this.props.selectedGroup) {\n            return null;\n        }\n        return (\n            <div className=\"DataView\" style={{width: \"100%\"}}>\n                <div id = {this.props.elementId} style={{width:\"100%\"}}></div>\n            </div>\n        )\n    }\n    componentDidMount() {\n        this.componentDidUpdate();\n    }\n\n    componentDidUpdate() {\n        let selectedGroup = this.props.selectedGroup;\n        let selectedQuestion = this.props.selectedQuestion; \n        let renderFunction = this.props.renderFunction;\n        if (selectedGroup && selectedQuestion && this.props.data) {\n            let data = this.props.data.filter(x => x[selectedGroup.id] && x[selectedQuestion.id] && true)\n            renderFunction(this.props.elementId, selectedGroup, selectedQuestion, data);\n        }\n    }\n}","import React from 'react'\nimport DataView from './DataView'\nimport './../css/CrossTabView.css'\n\nexport default class CrossTabView extends React.Component {\n    render() {\n        return <DataView \n                    elementId = \"crosstab\" \n                    survey = { this.props.survey }\n                    data = { this.props.data }\n                    selectedGroup = { this.props.selectedGroup }\n                    selectedQuestion = { this.props.selectedQuestion }\n                    renderFunction = { this.renderCrossTabs }\n                />\n    }\n\n    renderCrossTabs(elementId, selectedGroup, selectedQuestion, data) {\n        let cleanData = data.map((x) => { return {group : x[selectedGroup.id] || \" No Response\", response : x[selectedQuestion.id] || \" No Response\"} });\n        if(selectedQuestion.numeric) {\n            $(`#${elementId}`).pivot(cleanData, \n                {\n                    rows : [\"group\"],\n                    aggregator: $.pivotUtilities.aggregators[\"Average\"]([\"response\"])\n                });\n            for(let label of document.getElementsByClassName(\"pvtTotalLabel\")){ \n                label.innerHTML = \"Average\";\n            }\n        }\n        else {\n            $(`#${elementId}`).pivot(cleanData, \n                {\n                    rows : [\"group\"],\n                    cols: [\"response\"],\n                    aggregator: $.pivotUtilities.aggregators[\"Count\"]()\n                });\n        }\n    }\n}","const Colors = {\n    Histogram : [\"#00e699\"],\n    Categorical : [\"#00e699\", \"#008ae6\", \"#aa80ff\", \"#ff80ff\", \"#ff6666\", \"#ff9933\"],\n    Gradient3 : [\"#00e699\", \"#008ae6\", \"#aa80ff\"], \n    Gradient4 : [\"#00e699\", \"#008ae6\", \"#aa80ff\", \"#ff6666\"], \n    Gradient5 : [\"#00e699\", \"#008ae6\", \"#aa80ff\", \"#ff80ff\", \"#ff6666\"]\n}\n\nexport default Colors","import Colors from './Colors'\nconst Utils = {\n    getUniqueDictVals: function(data, key, sorter) {\n        let vals = data.map(x => x[key]);\n        var uniqueVals = vals.filter((v, i, a) => a.indexOf(v) === i);\n        return uniqueVals.filter(x => x.trim().length > 0).sort(sorter);\n    }, \n\n    // For each group, gets the proportion of each response\n    getProportions : function(data, groupKey, groupVal, responseKey) {\n        let responseVals = getUniqueDictVals(data, responseKey, null);\n        let filteredData = data.filter(x => x[groupKey] == groupVal);\n        let countsDict = {}\n        for(let val of responseVals) {\n            countsDict[val] = 0;\n        }\n        \n    },\n\n    getQuestionSorter: function(question) {\n        if(question.sorter) {\n            return $.pivotUtilities.sortAs(question.sorter);\n        }\n        else {\n            return (a, b) => a.localeCompare(b);\n        }\n    },\n\n    getGroupSorter: function(group) {\n        if(group.sorter) {\n            return (a, b) => {\n                if (a == \"All\") return -1;\n                if (b == \"All\") return 1;\n                else $.pivotUtilities.sortAs(group.sorter)(a, b);\n            }\n        }\n        else {\n            return (a, b) => { \n                if (a == \"All\") return -1;\n                if (b == \"All\") return 1;\n                else a.localeCompare(b)\n            }\n        }\n    }, \n\n    getColorPattern: function(question) {\n        let colorPattern = question.color && typeof(question.color == \"string\") \n        && question.color in Colors ? Colors[question.color] : question.color;\n        if(colorPattern) return colorPattern\n        else return Colors.Categorical\n    }\n}\n\nexport default Utils;","import React from 'react'\nimport DataView from './DataView'\nimport Colors from '../Colors'\nimport '../css/ChartView.css'\nimport Utils from '../Utils'\n\nexport default class ChartView extends React.Component { \n    render() {\n        return <DataView\n                    elementId = {this.props.elementId || \"chart\"}\n                    survey = { this.props.survey }\n                    data = { this.props.data }\n                    selectedGroup = { this.props.selectedGroup }\n                    selectedQuestion = { this.props.selectedQuestion }\n                    renderFunction = { this.renderChart.bind(this) }\n                />\n    }\n\n    renderChart(elementId, selectedGroup, selectedQuestion, data) {\n        let cleanData = data.map(x => {\n            let newX = {};\n            newX[selectedGroup.title] = x[selectedGroup.id] || \" No response\"\n            newX[\"response\"] = x[selectedQuestion.id] || \" No response\";\n            return newX;\n        })\n        let allData = data.map(x => {\n            return {\n                [selectedGroup.title] : \"All\",\n                \"response\" : x[selectedQuestion.id]\n            }\n        })\n        let sorters = {\n            [selectedGroup.title] : Utils.getGroupSorter(selectedGroup),\n            \"response\" : Utils.getQuestionSorter(selectedQuestion)\n        }\n        /*if(selectedGroup.sorter) {\n            sorters[selectedGroup.title] = (a, b) => {\n                if (a == \"All\") return -1;\n                if (b == \"All\") return 1;\n                else $.pivotUtilities.sortAs(selectedGroup.sorter)(a, b);\n            }\n        }\n        else {\n            sorters[selectedGroup.title] = (a, b) => { \n                if (a == \"All\") return -1;\n                if (b == \"All\") return 1;\n                else a.localeCompare(b)\n            }\n        }\n        if(selectedQuestion.sorter) {\n            sorters[\"response\"] = $.pivotUtilities.sortAs(selectedQuestion.sorter);\n        }\n        else {\n            sorters[\"response\"] = (a, b) => a.localeCompare(b);\n        }*/\n        let colorPattern = Utils.getColorPattern(selectedQuestion);\n\n        \n        $(`#${elementId}`).pivot([...allData, ...cleanData], {\n            rows : [selectedGroup.title],\n            cols: [\"response\"],\n            aggregator: $.pivotUtilities.aggregators[\"Count as Fraction of Rows\"](),\n            renderer: $.pivotUtilities.c3_renderers[\"Horizontal Stacked Bar Chart\"],\n            sorters : sorters,\n            rendererOptions : {\n                c3 :{ \n                    size : {\n                        width: $(`#${elementId}`).parent().width()\n                    }, \n                    color : {\n                        pattern : colorPattern || Colors.Categorical\n                    },\n                    legend : {\n                        item : {\n                            onclick : function() {}\n                        }\n                    },\n                    ... this.props.c3Override,\n                }\n            }\n        });\n        for(let elt of document.getElementsByClassName(\"c3-axis-y-label\")) {\n            elt.innerHTML = \"Proportion\";\n        }\n        document.getElementById(elementId).getElementsByTagName(\"p\")[0].remove();\n        let ChartLabel = document.getElementById(\"ChartLabel\");\n        if (ChartLabel) {\n            ChartLabel.style.height = document.getElementsByClassName(\"c3-event-rect\")[0].height.baseVal.value + \"px\";\n        }\n    }\n}","import React from 'react'\nimport CrossTabView from './CrossTabView'\nimport ChartView from './ChartView'\n\nexport default class CategoricalDisplay extends React.Component {\n    render() {\n        return (\n            <div className = \"CategoricalDisplay\">\n                <div className = \"row header\">\n                    <h5>Proportion of responses to \"<strong>{this.props.question.description}</strong>\" by \"<strong>{this.props.group.title}</strong>\"</h5>\n                </div>\n                <div className = \"row\">\n                    <ChartView\n                        survey = { this.props.survey } \n                        data = { this.props.data }\n                        selectedGroup = { this.props.group }\n                        selectedQuestion = { this.props.question }\n                    />\n                </div>\n                <div className = \"row\">\n                    <CrossTabView\n                        survey = { this.props.survey } \n                        data = { this.props.data }\n                        selectedGroup = { this.props.group }\n                        selectedQuestion = { this.props.question }\n                    />\n                </div>\n            </div>\n        )\n    }\n\n    cleanData(data) {\n        return data; \n    }\n}","import React from 'react'\nimport '../css/StatBubble.css'\n\nexport default class StatBubble extends React.PureComponent { \n    render() { \n    let classNames = \"StatBubble text-center card h-100 \" + (this.props.active ? \"active\" : \"\");\n        return (\n            <a href=\"#\" className = {classNames} onClick = { (e) => {e.preventDefault(); this.props.handleClick()} }>\n                <strong className = \"BubbleTitle\">{this.props.title}</strong>\n                {this.props.formatter ? this.props.formatter(this.props.stat.toFixed(2)) : this.props.stat.toFixed(2)}\n            </a>\n        )\n    }\n}","import React from 'react'\nimport DataView from './DataView'\nimport Colors from '../Colors'\nimport '../css/HistogramView.css'\n\nexport default class HistogramView extends React.Component { \n    constructor() {\n        super();\n        this.renderHistogram = this.renderHistogram.bind(this);\n    }\n    render() {\n        return (\n        <div style={{width: \"100%\"}}> \n            <h5 className = \"text-center\">\n                Distribution of responses by group: <strong>{this.props.groupVal}</strong>\n            </h5>\n            <DataView\n                elementId = \"histogram\"\n                survey = { this.props.survey }\n                data = { this.props.data }\n                selectedGroup = { this.props.selectedGroup }\n                selectedQuestion = { this.props.selectedQuestion }\n                renderFunction = { this.renderHistogram }\n            />\n        </div>\n        )\n    }\n\n    shouldComponentUpdate(nextProps, nextState) { \n        if(nextProps.selectedGroup != this.props.selectedGroup || nextProps.selectedQuestion != this.props.selectedQuestion) {\n            this.chart = null;\n        }\n        return true;\n    }\n\n    renderHistogram(elementId, selectedGroup, selectedQuestion, data) {\n        let dataNumeric = data.map(x => Number(x[selectedQuestion.id]));\n        let cleanData = data.filter(x => this.props.groupVal === \"All\" || x[selectedGroup.id] == this.props.groupVal)\n                            .map(x => Number(x[selectedQuestion.id]));\n\n        let nticks = 15; \n        let scale = d3.scaleLinear()\n                        .domain([d3.min(dataNumeric), d3.max(dataNumeric)])\n                        .range([d3.min(dataNumeric), d3.max(dataNumeric)]);\n\n        let histogram = d3.histogram()\n                            .domain([d3.min(dataNumeric), d3.max(dataNumeric)])\n                            .thresholds(scale.ticks(nticks));\n        \n        let bins = histogram(cleanData);\n        let binSizes = bins.map(x => x.length);\n        let categories = bins.map(bin => `${bin[\"x0\"]}-${bin[\"x1\"]}`);\n        let correctBin = selectedQuestion.correct ? histogram([selectedQuestion.correct]).filter(x => x.length > 0)[0] : null;\n        if(!this.chart) {\n            this.chart = c3.generate({\n                bindto: `#${elementId}`,\n                data : {\n                    columns : [['count', ... binSizes]],\n                    types : { \n                        'count' : 'bar'\n                    }\n                },\n                grid : {\n                    x: {\n                        lines : (selectedQuestion.correct ? \n                                [{\n                                    value : `${correctBin[\"x0\"]}-${correctBin[\"x1\"]}`, \n                                    text : `Correct: ${this.props.formatter(selectedQuestion.correct)}`, \n                                    class: \"correct_line\",\n                                    position: \"middle\", \n                                }\n                                ] : [])\n                    },\n                },\n                color : {\n                    pattern : Colors.Histogram\n                }, \n                axis : {\n                    x : {\n                        type : 'category',\n                        categories : categories\n                    }\n                },\n                bar: {\n                    width: {\n                        ratio: 1\n                    }\n                },\n            });\n        }\n        else {\n            this.chart.load({\n                columns : [['count', ... binSizes]]\n            })\n        }\n    }\n}","const NumberFormats = { \n    percent : s => `${s}%`,\n    dollar : s => `$${s}`\n}\n\nexport default NumberFormats","import React from 'react'\nimport StatBubble from './StatBubble'\nimport '../css/NumericDisplay.css'\nimport HistogramView from './HistogramView'\nimport NumberFormats from '../NumberFormats'\n\nexport default class NumericDisplay extends React.Component {\n    constructor() { \n        super();\n        this.state = {\n            selectedGroupVal : \"All\"\n        };\n    }\n    render() { \n        let data = this.cleanData(this.props.data);\n        let averages = this.calcAverages(data).sort((a, b) => {\n            if(a.groupVal == \"All\") {\n                return -1;\n            }\n            else if(b.groupVal == \"All\") {\n                return 1;\n            }\n            else if(this.props.group.sorter) {\n                return this.props.group.sorter.indexOf(a.groupVal) - this.props.group.sorter.indexOf(b.groupVal);\n            }\n            else {\n                return a.groupVal.localeCompare(b.groupVal);\n            }\n        });\n        let formatter = NumberFormats[this.props.question.format] || (x => x);\n        let statBubbles = averages.map(x => \n            <div className = \"col-md-3\" style={{marginBottom : \"10px\"}}>\n                <StatBubble \n                    title = { x.groupVal }\n                    stat = { x.average }\n                    active = { x.groupVal == this.state.selectedGroupVal }\n                    handleClick = { this.createClickHandler(x.groupVal) }\n                    formatter = { formatter }\n                />\n            </div>\n        );\n        let correctDiv = null;\n        if(this.props.question.correct != undefined) {\n            correctDiv = <div className = \"row header\" style={{color:\"green\", fontSize:\"14pt\"}}>\n                <strong>Correct Answer: {formatter(this.props.question.correct)}</strong>\n            </div>\n        }\n        return (\n            <div className = \"NumericDisplay\">\n                <div className = \"row header\">\n                    <h5>Average response to \"<strong>{this.props.question.description}</strong>\" by <strong>{this.props.group.title.toLowerCase()}</strong> of the respondent</h5>\n                </div>\n                {correctDiv}\n                <div className = \"row\">\n                    { statBubbles }\n                </div>\n                <div className = \"row\">\n                    <HistogramView\n                        survey = { this.props.survey } \n                        data = { this.cleanData(this.props.data) }\n                        selectedGroup = { this.props.group }\n                        selectedQuestion = { this.props.question }\n                        groupVal = { this.state.selectedGroupVal }\n                        formatter = {formatter}\n                    />\n                </div>\n            </div>\n        )\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.setState({\n            selectedGroupVal : \"All\"\n        })\n    }\n\n    cleanData(data) {\n        let filteredData = data.filter(x => x[this.props.group.id] && x[this.props.question.id]);\n        let sortedData = filteredData.sort((a, b) => a[this.props.question.id] - b[this.props.question.id]);\n        return filteredData.filter(x => sortedData.indexOf(x) <= 0.95 * sortedData.length);\n    }\n    \n    createClickHandler(groupVal) {\n        return function() {\n            this.setState({\n                selectedGroupVal : groupVal\n            });\n        }.bind(this);\n    }\n\n    // TODO: calculate total average\n    calcAverages(data) {\n        let acc = {\n            All : {\n                sum : 0,\n                count : 0\n            }\n        }\n        let groupId = this.props.group.id;\n        let questionId = this.props.question.id;\n        for(let row of data) {\n            let groupVal = row[groupId];\n            if(!(groupVal in acc)) {\n                acc[groupVal] = {sum : 0, count : 0}\n            }\n            acc.All.sum += Number(row[questionId]);\n            acc.All.count++;\n            acc[groupVal].sum += Number(row[questionId]);\n            acc[groupVal].count++; \n        }\n        \n        return Object.keys(acc).map(k => { \n            return {groupVal : k, average : acc[k].count > 0 ? acc[k].sum / acc[k].count : 0}\n        })\n    }\n}","import React from 'react'\nimport ChartView from './ChartView'\n\nexport default class TreatmentChartView extends React.Component {\n    render() { \n        let c3Overrides = { \n            axis : {\n                x : {\n                    show : false\n                }, \n                y : {\n                    show : false\n                }\n            }\n        }\n\n        return <ChartView \n            survey = { this.props.survey } \n            data = { this.props.data }\n            selectedGroup = { this.props.selectedGroup }\n            selectedQuestion = { this.props.selectedQuestion }\n            elementId = { this.props.elementId }\n            c3Override = { c3Overrides }\n        />\n    }\n}","import React from 'react'\nimport Utils from '../Utils'\n\nexport default class DummyChartView extends React.Component {\n    render() { \n        let c3Overrides = { \n            axis : {\n                x : {\n                    show : true\n                }, \n                y : {\n                    show : false\n                }\n            }, \n            color: { \n                pattern : [\"#ffffff\"]\n            },\n            tooltip : {\n                show: false\n            },\n        }\n\n        let sorter = null;\n        if(this.props.selectedGroup.sorter) {\n            sorter = $.pivotUtilities.sortAs(this.props.selectedGroup.sorter);\n        }\n        else {\n            sorter = (a, b) => a.localeCompare(b);\n        }\n\n        let displayElts = [\"All\", ...Utils.getUniqueDictVals(this.props.data, this.props.selectedGroup.id, sorter)]\n                            .map(x => <tr style={{overflow: \"hidden\"}}><td><strong>{x}</strong></td></tr>);\n\n        return <table id = \"ChartLabel\" style={{marginTop: \"2%\"}}>\n            <tbody style={{fontSize : \"12px\"}}>\n                {displayElts}\n            </tbody>\n        </table>\n\n        /* return <ChartView \n            survey = { this.props.survey } \n            data = { this.props.data }\n            selectedGroup = { this.props.selectedGroup }\n            selectedQuestion = { this.props.selectedQuestion }\n            elementId = { this.props.elementId }\n            c3Override = { c3Overrides }\n        />*/ \n    }\n    \n    componentDidMount() {\n        this.componentDidUpdate();\n    }\n\n    componentDidUpdate() {\n        /* let chartElement = document.getElementById(this.props.elementId);\n        let legendItems = chartElement.getElementsByClassName(\"c3-legend-item\");\n        for(let item of legendItems) {\n            item.style.display = \"none\";\n        }\n\n        chartElement.getElementsByClassName(\"c3-chart\")[0].style.display = \"none\";\n        chartElement.getElementsByClassName(\"domain\")[0].style.display = \"none\";\n        let lines = chartElement.getElementsByTagName(\"line\");\n        for(let line of lines) {\n            line.style.display = \"none\";\n        }\n        \n        chartElement.getElementsByClassName(\"c3-axis-x-label\")[0].style.display = \"none\";\n\n        chartElement.getElementsByClassName(\"c3-axis-x\")[0].setAttribute(\"style\", \"font-weight: bold\"); */\n    }\n}","import React from 'react'\nimport Colors from '../Colors'\nimport Utils from '../Utils';\n\nexport default class ChartLegend extends React.PureComponent {\n    render() { \n        if (!this.props.question || !this.props.data) {\n            return null;\n        }\n        let colorPattern = Utils.getColorPattern(this.props.question); \n        let responses = Utils.getUniqueDictVals(this.props.data, this.props.question.id, \n                            Utils.getQuestionSorter(this.props.question));\n        \n        let legendItems = responses.map((val, i) => \n        <div className = \"col-md text-center card\"\n        style = {{\n            color : \"black\",\n            backgroundColor: colorPattern[i],\n            margin: \"3px\",\n            fontSize : \"13px\"\n        }}>\n            <strong>{val}</strong>\n        </div>)\n        return <div className = \"row legend\">\n            {legendItems}\n        </div>\n    }\n}","import React from 'react'\nimport TreatmentChartView from './TreatmentChartView'\nimport ScrollableDesc from './ScrollableDesc'\nimport DummyChartView from './DummyChartView'\nimport ChartLegend from './ChartLegend'\nimport Utils from '../Utils';\n\nexport default class TreatmentDisplay extends React.Component { \n    render() {\n        if(!this.props.question) {\n            return null;\n        }\n        let chartViews = this.props.question.questions.map(question => \n            <div className = \"col-md-3\">\n                <TreatmentChartView\n                    survey = { this.props.survey } \n                    data = { this.props.data.filter(x => question.treatments.indexOf(x[\"mechanisms_rando\"]) >= 0) }\n                    selectedGroup = { this.props.group }\n                    selectedQuestion = { {color: this.props.question.color, sorter: this.props.question.sorter, ...question} }\n                    elementId = {`${question.title}_chart`}\n                />\n            </div>\n        )\n\n        let colorPattern = Utils.getColorPattern(this.props.question);\n\n        let descriptions = this.props.question.questions.map(question => \n            <div className = \"col-md-3\">\n                <ScrollableDesc\n                    title = {question.title}\n                    content = {question.description}\n                    height = {\"100px\"}\n                />\n            </div>\n            )\n        return(\n            <div className = \"TreatmentDisplay\">\n                <div className = \"row\">\n                    <div className = \"col-md-3\">\n                        <ScrollableDesc\n                            title = {this.props.group.title }\n                            content = {\" \"}\n                            height = {\"100px\"}\n                        /> \n                    </div>\n                    {descriptions}\n                </div>\n                <div className = \"row\">\n                    <div className = \"col-md-3\"></div>\n                    <div className = \"col-md-9\">\n                        <ChartLegend \n                            data = { this.props.data }\n                            question = { this.props.question }\n                        />\n                    </div>\n                </div>\n                <div className = \"row\">\n                    <div className = \"col-md-3\">\n                        <DummyChartView \n                            survey = { this.props.survey } \n                            data = { this.props.data }\n                            selectedGroup = { this.props.group }\n                            selectedQuestion = { this.props.question }\n                            elementId = {`dummy_chart`}\n                        />\n                    </div>\n                    {chartViews}\n                </div>\n            </div>\n        )\n    }\n}","import React from 'react'\nimport '../css/DataDisplay.css'\nimport DataType from '../DataType'\nimport CategoricalDisplay from './CategoricalDisplay'\nimport NumericDisplay from './NumericDisplay'\nimport TreatmentDisplay from './TreatmentDisplay'\n\nexport default class DataDisplay extends React.Component {\n    render() {\n        let question = this.props.selectedQuestion;\n        let specificDisplay = null;\n        if(!question || !this.props.selectedGroup) {\n            return null;\n        }\n        switch(question.type) {\n            case DataType.CATEGORICAL:\n                specificDisplay = <CategoricalDisplay \n                    survey = { this.props.survey }\n                    data = { this.props.data }\n                    group = { this.props.selectedGroup }\n                    question = { this.props.selectedQuestion }\n                />\n                break;\n            case DataType.NUMERIC:\n                specificDisplay = <NumericDisplay\n                    survey = { this.props.survey }\n                    data = { this.props.data }\n                    group = { this.props.selectedGroup }\n                    question = { this.props.selectedQuestion }\n                />\n                break;\n            case DataType.TREATMENT:\n                specificDisplay = <TreatmentDisplay\n                    survey = { this.props.survey }\n                    data = { this.props.data }\n                    group = { this.props.selectedGroup }\n                    question = { this.props.selectedQuestion }\n                />\n                break;\n            default: \n                throw new Error(`Invalid data type for ${ this.props.selectedQuestion.id}`)\n\n        }\n        return (\n            <div className = \"DataDisplay\">\n                { specificDisplay }\n            </div>\n        )\n    }\n     \n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport FieldSelect from './FieldSelect'\nimport { surveys, groups } from '../config/fields.json'\nimport NotFound from './NotFound'\nimport DataDisplay from './DataDisplay'\nimport VariableDescription from './VariableDescription'\nimport incomeSurveyData from './../json_data/data_income_survey.json'\n\n// This is to cache the CSV data so that we are not consistently pinging the server for it.\nvar dataCache = {\n    \"income_survey\" : incomeSurveyData\n};\nexport default class DataPage extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            selectedGroup : undefined,\n            selectedTopic : undefined,\n            selectedQuestion : undefined\n        }\n        this.handleGroupSelect = this.handleGroupSelect.bind(this);\n        this.handleTopicSelect = this.handleTopicSelect.bind(this);\n        this.handleQuestionSelect = this.handleQuestionSelect.bind(this); \n    }\n    componentWillMount() {\n        this.surveyId = this.props.surveyId;\n        if (this.surveyId && this.surveyId in surveys) {\n            this.survey = surveys[this.surveyId];\n        }\n        this.groups = {...groups, ... (this.survey.additionalGroups || {})}\n    }\n\n    render() {\n        if(!this.survey) {\n            return <NotFound />\n        }\n        return (\n            <div className = \"container-fluid\">\n                <div className = \"row\">\n                    <div className = \"col-md-4\">\n                        <FieldSelect\n                            title = \"Topic\"\n                            description = \"Select a topic that you would like to examine\"\n                            options = { this.survey.topics }\n                            selected = {this.state.selectedTopic ? this.state.selectedTopic.id : null}\n                            handleSelect = {this.handleTopicSelect}\n                        />\n                    </div>\n                    <div className = \"col-md-4\">\n                        <FieldSelect\n                            title = \"Question\"\n                            description = \"Select a question to examine\"\n                            options = {this.state.selectedTopic ? \n                                this.state.selectedTopic.questions :\n                                null\n                            }\n                            selected = {this.state.selectedQuestion ? this.state.selectedQuestion.id : null}\n                            handleSelect = {this.handleQuestionSelect}\n                        />\n                    </div>\n                    <div className = \"col-md-4\">\n                        <FieldSelect \n                            title = \"Group\"\n                            description = \"Select how you would like to group responses\"\n                            options = { this.state.selectedQuestion ? this.groups : null }\n                            selected = {this.state.selectedGroup ? this.state.selectedGroup.id : null}\n                            handleSelect = {this.handleGroupSelect}\n                        />\n                    </div>\n                </div>\n                \n                <DataDisplay\n                    survey = { this.survey } \n                    data = { this.state.surveyData }\n                    selectedGroup = { this.state.selectedGroup }\n                    selectedQuestion = { this.state.selectedQuestion } \n                />\n            </div>\n        )\n    }\n\n    componentDidMount() {\n        if(!this.survey){\n            return;\n        }\n        document.title = this.survey.title;\n        if(this.surveyId in dataCache) {\n            this.setState({\n                surveyData : dataCache[this.surveyId]\n            });\n        }\n        else {\n            d3.csv(`${process.env.PUBLIC_URL}/data/data_${this.surveyId}.csv`).then((data) => {\n                dataCache[this.surveyId] = data; \n                this.setState({\n                  surveyData : data\n                })\n              });\n        }\n      }\n\n    handleGroupSelect(event) {\n        this.setState({\n            selectedGroup : this.groups[event.target.value]\n        })\n    }\n\n    handleTopicSelect(event) {\n        this.setState({\n            selectedTopic : this.survey.topics[event.target.value],\n            selectedQuestion : undefined,\n            selectedGroup : undefined\n        })\n    }\n    \n    handleQuestionSelect(event) {\n        this.setState({\n            selectedQuestion : this.state.selectedTopic.questions[event.target.value]\n        })\n    }\n}\n\nDataPage.propTypes = {\n    survey : PropTypes.object\n}","import React from 'react'\nimport '../App.css'\n\nexport default class VariableDescription extends React.Component { \n    render() {\n        if (!this.props.selectedQuestion || !this.props.selectedQuestion.variables) { \n            return null;\n        }\n        \n        return (\n            <div>\n                <div className = \"row\">\n                    <h4>Variables</h4>\n                </div>\n                <div className = \"row\">\n                    <span>Definitions of the variables in the question</span>\n                </div>\n                <div className = \"row scrolling\">\n                    <ul>\n                    { this.props.selectedQuestion.variables ?\n                            this.props.selectedQuestion.variables.map(variable => (\n                                <li>\n                                    <strong>{variable.name}</strong>: {variable.description}\n                                </li>\n                            )) : null\n                    }               \n                    </ul>\n                </div>\n            </div>\n        )\n    }\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport FieldSelect from './FieldSelect'\n\nexport default class QuestionSelector extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            selectedTopic : undefined,\n            selectedQuestion : undefined\n        }\n        this.handleTopicSelect = this.handleTopicSelect.bind(this);\n        this.handleQuestionSelect = this.handleQuestionSelect.bind(this); \n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        let shouldUpdate = {... this.state} != {... nextState} || {... this.props} != {... nextProps};\n        return shouldUpdate;\n    }\n    render() { \n        return (\n            <div className = \"col-md-6\">\n                <div className = \"row\">\n                    <FieldSelect \n                        title = {this.props.topicTitle || \"Topic\"}\n                        description = {this.props.topicDescription || \"Select a topic to examine.\"}\n                        options = { this.props.topics }\n                        selected = { this.state.selectedTopic }\n                        handleSelect = { this.handleTopicSelect }\n                    />\n                </div>\n                <div className = \"row\">\n                    <FieldSelect \n                            title = {this.props.questionTitle || \"Question\"}\n                            description = {this.props.questionDescription || \"Select a question to examine.\"}\n                            options = {this.state.selectedTopic ? \n                                this.props.topics[this.state.selectedTopic].questions :\n                                null\n                            }\n                            selected = { this.state.selectedQuestion }\n                            handleSelect = { this.handleQuestionSelect }\n                        />\n                </div>\n            </div>\n        )\n    }\n\n    handleTopicSelect(event) {\n        this.setState({\n            selectedTopic : event.target.value,\n            selectedQuestion : undefined\n        }, () => {\n            this.props.receiveSelection(null);\n        });\n    }\n    \n    handleQuestionSelect(event) {\n        this.setState({\n            selectedQuestion : event.target.value\n        }, () => {\n            this.props.receiveSelection(this.props.topics[this.state.selectedTopic].questions[this.state.selectedQuestion]);\n        });\n    }\n}\n\nQuestionSelector.propTypes = {\n    topics : PropTypes.object,\n    receiveQuestion : PropTypes.func\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport QuestionSelector from './QuestionSelector'\nimport { surveys, groups } from '../config/fields.json'\nimport NotFound from './NotFound'\nimport DataDisplay from './DataDisplay'\n\n// This is to cache the CSV data so that we are not consistently pinging the server for it.\nvar dataCache = {};\nexport default class DataPage extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            selectedGroup : undefined,\n            selectedContent : undefined\n        }\n        this.handleGroupSelect = this.handleGroupSelect.bind(this);\n        this.handleContentSelect = this.handleContentSelect.bind(this);\n    }\n    componentWillMount() {\n        this.surveyId = this.props.surveyId;\n        if (this.surveyId && this.surveyId in surveys) {\n            this.survey = surveys[this.surveyId];\n        };\n        this.groups = {...groups, ... (this.survey.additionalGroups || {})};\n        this.topics = {\"Demographics\" : {\n            id : \"Demographics\",\n            title : \"Demographics\",\n            description : \"Questions about the demographics of the respondent\",\n            questions : this.groups\n        }, ...this.survey.topics};\n    }\n\n    render() {\n        if(!this.survey) {\n            return <NotFound />\n        }\n        return (\n            <div className = \"container-fluid\">\n                <div className = \"row\">\n                    <QuestionSelector \n                        topics = {this.topics}\n                        receiveSelection= {this.handleGroupSelect}\n                    />\n\n                    <QuestionSelector \n                        topics = {this.topics}\n                        receiveSelection = {this.handleContentSelect}\n                    />\n                </div>\n                \n                <DataDisplay\n                    survey = { this.survey } \n                    data = { this.state.surveyData }\n                    selectedGroup = { this.state.selectedGroup }\n                    selectedQuestion = { this.state.selectedContent } \n                />\n            </div>\n        )\n    }\n\n    componentDidMount() {\n        if(!this.survey){\n            return;\n        }\n        document.title = this.survey.title;\n        if(this.surveyId in dataCache) {\n            this.setState({\n                surveyData : dataCache[this.surveyId]\n            });\n        }\n        else {\n            d3.csv(`${process.env.PUBLIC_URL}/data/data_${this.surveyId}.csv`).then((data) => {\n                dataCache[this.surveyId] = data; \n                this.setState({\n                  surveyData : data\n                })\n              });\n        }\n      }\n\n    handleGroupSelect(selectedGroup) {\n        this.setState({\n            selectedGroup : selectedGroup\n        })\n    }\n\n    handleContentSelect(selectedContent) {\n        this.setState({\n            selectedContent : selectedContent\n        })\n    }\n}\n\nDataPage.propTypes = {\n    survey : PropTypes.object\n}","import React from 'react'\n\nexport default class HomePage extends React.Component {\n    render() {\n        document.title = \"Understanding Economics\";\n        return (\n            <div className = \"HomePage\">\n                <span>\n                    <p>\n                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n                    </p>\n                </span>\n\n                \n            </div>\n        )\n    }\n}","import React from 'react'\n\nexport default class HomePage extends React.Component {\n    render() {\n        document.title = \"Background - Understanding Economics\";\n        return (\n            <div className = \"HomePage\">\n                <span>\n                    <p>\n                       Some background info about the project here.\n                    </p>\n\n                    <p>\n                        Some other background info.\n                    </p>\n                </span>\n\n                \n            </div>\n        )\n    }\n}","import React from 'react';\nimport './App.css';\nimport NavigationBar from './components/NavigationBar'\nimport DataPage from './components/DataPage'\nimport DataPageAlt from './components/DataPageAlt'\nimport HomePage from './components/HomePage'\nimport BackgroundPage from './components/BackgroundPage'\nimport { Route, Switch, HashRouter as Router } from 'react-router-dom'\nimport NotFound from './components/NotFound'\nimport { surveys } from './config/fields.json'\n\n\nclass App extends React.Component {\n  constructor() {\n    super(); \n    this.state = {\n      surveyData : null,\n      selectedGroup : null,\n      selectedQuestion : null\n    }\n  }\n  \n  render() {\n    // This is a suboptimal way to do this, but I want to treat each DataPage as a separate component\n    // This way the component mounts and unmounts each time\n    let surveyRoutes = Object.keys(surveys).map(surveyId => {\n        return (\n            <Route exact path ={`/survey/${surveyId}`} component = {() => <DataPage surveyId = {`${surveyId}`}/> } />\n        )\n    })\n\n    \n    return (\n      <Router basename = \"/\">\n        <div className=\"App container\">\n          <h3>Understanding Economics</h3>\n          <NavigationBar />\n          <Switch>\n            <Route exact path=\"/\" component={HomePage}/>\n            <Route exact path=\"/background\" component={BackgroundPage}/>\n            {surveyRoutes}\n            <Route exact path=\"/survey_alt/income_survey\" component = {() => <DataPageAlt surveyId = \"income_survey\"/>} />\n            <Route component={NotFound} />\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}