(this["webpackJsonpunderstanding-economics"]=this["webpackJsonpunderstanding-economics"]||[]).push([[0],{13:function(e){e.exports=JSON.parse('{"a":{"gender":{"id":"gender","title":"Gender","numeric":false,"description":"The gender of the respondent."},"income":{"id":"income","title":"Income","numeric":false,"description":"The annual income range of the respondent."},"born_us":{"id":"born_us","title":"Born in US","numeric":false,"description":"Whether the respondent was born in the U.S."}},"b":{"income_survey":{"title":"Income Survey","additional_groups":{},"topics":{"Economic Effects":{"description":"Questions about economic effects","id":"Economic Effects","title":"Economic Effects","questions":{"Q06006_en":{"id":"Q06006_en","title":"Economic Effect","numeric":false,"description":"The economic effect that the respondent believes.\\n<ul>\\n<li>Hello</li>\\n<li>Hello</li>\\n<li>Hello</li>\\n<li>Hello</li>\\n<li>Hello</li>\\n<li>Hello</li>\\n<li>Hello</li>\\n<li>Hello</li><li>Hello</li>\\n<li>Hello</li>\\n<li>Hello</li>\\n</ul>"},"Q06009_en":{"id":"Q06009_en","title":"Yes or No","numeric":false,"description":"A yes or no question where I don\'t know the question"}}},"Tax Cut":{"description":"Questions about the recent tax cut","id":"Tax Cut","title":"Tax Cut","questions":{"Q06007_en":{"id":"Q06007_en","title":"Tax Cut Deficit","numeric":false,"description":"How the respondents believes the tax cut affected the deficit"},"Q06008_en":{"id":"Q06008_en","title":"Tax Cut Deficit 2","numeric":false,"description":"Another tax cut deficit question"}}}}}}}')},24:function(e,t,n){e.exports=n(39)},29:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(21),c=n.n(s),o=n(2),r=n(3),l=n(6),u=n(4),d=n(5),p=(n(29),n(30),n(15)),h=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("ul",{className:"nav nav-tabs"},i.a.createElement("li",{className:"nav-item"},i.a.createElement(p.b,{exact:!0,className:"nav-link",activeClassName:"active",to:"/"},"Home")),i.a.createElement("li",{className:"nav-item"},i.a.createElement(p.b,{className:"nav-link",activeClassName:"active",to:"/survey/income_survey"},"Income Survey")))}},{key:"componentDidMount",value:function(){}}]),t}(i.a.Component),m=n(12),v=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.props.selectedQuestion?i.a.createElement("div",{id:this.props.elementId}):null}},{key:"componentDidUpdate",value:function(){var e=this.props.selectedGroup,t=this.props.selectedQuestion,n=this.props.data,a=this.props.renderFunction;e&&t&&n&&a(this.props.elementId,e,t,n)}}]),t}(i.a.Component),f=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement(v,{elementId:"crosstab",survey:this.props.survey,data:this.props.data,selectedGroup:this.props.selectedGroup,selectedQuestion:this.props.selectedQuestion,renderFunction:this.renderCrossTabs})}},{key:"renderCrossTabs",value:function(e,t,n,a){var i=a.map((function(e){return{group:e[t.id],response:e[n.id]||" No Response"}}));n.numeric?$("#".concat(e)).pivot(i,{rows:["group"],aggregator:$.pivotUtilities.aggregators.Average(["response"])}):$("#".concat(e)).pivot(i,{rows:["group"],cols:["response"],aggregator:$.pivotUtilities.aggregators.Count()})}}]),t}(i.a.Component),b=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement(v,{elementId:"chart",survey:this.props.survey,data:this.props.data,selectedGroup:this.props.selectedGroup,selectedQuestion:this.props.selectedQuestion,renderFunction:this.renderChart})}},{key:"renderChart",value:function(e,t,n,a){var i=a.map((function(e){var a={};return a[t.title]=e[t.id],a.response=e[n.id]||" No response",a}));n.numeric?$("#".concat(e)).pivot(i,{rows:[t.title],aggregator:$.pivotUtilities.aggregators.Average(["response"]),renderer:$.pivotUtilities.c3_renderers["Horizontal Bar Chart"],rowOrder:"value_z_to_a"}):($("#".concat(e)).pivot(i,{rows:[t.title],cols:["response"],aggregator:$.pivotUtilities.aggregators["Count as Fraction of Rows"](),renderer:$.pivotUtilities.c3_renderers["Horizontal Stacked Bar Chart"],rowOrder:"value_z_to_a",colOrder:"value_z_to_a"}),document.getElementById("chart").getElementsByTagName("p")[0].remove())}}]),t}(i.a.Component),y=(n(36),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).slctDivRef=i.a.createRef(),e.descDivRef=i.a.createRef(),e.slctRef=i.a.createRef(),e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){if(!this.props.options)return null;var e,t=(e=this.props.options,Object.keys(e).map((function(t){return e[t]}))).map((function(e){return i.a.createElement("option",{value:e.id},e.title)})),n=this.props.selected?this.props.options[this.props.selected].description:"";return i.a.createElement("div",null,i.a.createElement("div",{className:"row"},i.a.createElement("h4",null,this.props.title)),i.a.createElement("div",{className:"row"},i.a.createElement("span",null,this.props.description)),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6 slctDiv",ref:this.slctDivRef},i.a.createElement("select",{className:"align-left",size:8,ref:this.slctRef,value:this.props.selected,onChange:this.props.handleSelect},t)),i.a.createElement("div",{className:"col-md-6 scrolling",ref:this.descDivRef},i.a.createElement("span",{className:"align-top align-text-top",dangerouslySetInnerHTML:{__html:n}}))))}},{key:"componentDidUpdate",value:function(){this.slctDivRef.current&&this.descDivRef.current&&(this.descDivRef.current.style.height="".concat(this.slctDivRef.current.offsetHeight,"px")),this.slctRef.current&&!this.props.selected&&(this.slctRef.current.selectedIndex="-1")}}]),t}(i.a.Component));var E=n(13),g=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"Page not found")," ",i.a.createElement("br",null),i.a.createElement("h3",null,"Please double check the URL and try again"))}}]),t}(i.a.Component),O=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={selectedGroup:void 0,selectedTopic:void 0,selectedQuestion:void 0},e.handleGroupSelect=e.handleGroupSelect.bind(Object(m.a)(e)),e.handleTopicSelect=e.handleTopicSelect.bind(Object(m.a)(e)),e.handleQuestionSelect=e.handleQuestionSelect.bind(Object(m.a)(e)),e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){this.surveyId=this.props.match.params.surveyId,this.surveyId&&this.surveyId in E.b&&(this.survey=E.b[this.surveyId])}},{key:"render",value:function(){return this.survey?i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement(y,{title:"Group",description:"Select how you would like to group responses",options:E.a,selected:this.state.selectedGroup,handleSelect:this.handleGroupSelect})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement(y,{title:"Topic",description:"Select a topic that you would like to examine",options:this.survey.topics,selected:this.state.selectedTopic,handleSelect:this.handleTopicSelect})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement(y,{title:"Question",description:"Select a question to examine",options:this.state.selectedTopic?this.survey.topics[this.state.selectedTopic].questions:null,selected:this.state.selectedQuestion,handleSelect:this.handleQuestionSelect}))),i.a.createElement("div",{className:"row"},i.a.createElement(b,{survey:this.survey,data:this.state.surveyData,selectedGroup:E.a[this.state.selectedGroup],selectedQuestion:this.state.selectedQuestion?this.survey.topics[this.state.selectedTopic].questions[this.state.selectedQuestion]:null})),i.a.createElement("div",{className:"row"},i.a.createElement(f,{survey:this.survey,data:this.state.surveyData,selectedGroup:E.a[this.state.selectedGroup],selectedQuestion:this.state.selectedQuestion?this.survey.topics[this.state.selectedTopic].questions[this.state.selectedQuestion]:null}))):i.a.createElement(g,null)}},{key:"componentDidMount",value:function(){var e=this;this.survey&&(document.title=this.survey.title,d3.csv("".concat("","/data/data_").concat(this.surveyId,".csv")).then((function(t){e.setState({surveyData:t})})))}},{key:"handleGroupSelect",value:function(e){this.setState({selectedGroup:e.target.value})}},{key:"handleTopicSelect",value:function(e){this.setState({selectedTopic:e.target.value,selectedQuestion:void 0})}},{key:"handleQuestionSelect",value:function(e){this.setState({selectedQuestion:e.target.value})}}]),t}(i.a.Component),j=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"HomePage"},i.a.createElement("span",null,i.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.")))}}]),t}(i.a.Component),Q=n(10),S=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={surveyData:null,selectedGroup:null,selectedQuestion:null},e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement(p.a,{basename:"/"},i.a.createElement("div",{className:"App container"},i.a.createElement(h,null),i.a.createElement(Q.b,null,i.a.createElement(Route,{exact:!0,path:"/",component:j}),i.a.createElement(Route,{exact:!0,path:"/survey/:surveyId",component:O}),i.a.createElement(Route,{component:g}))))}}]),t}(i.a.Component);n(37),n(38);c.a.render(i.a.createElement(S,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.e39f14c4.chunk.js.map