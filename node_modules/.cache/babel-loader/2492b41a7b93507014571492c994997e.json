{"ast":null,"code":"var _jsxFileName = \"/Users/Kevin/Documents/GitHub/Understanding-Economics.github.io/src/components/CrossTabView.js\";\nimport React, { Component } from 'react';\nimport DataView from './DataView';\nexport default class CrossTabView extends Component {\n  render() {\n    if (this.props.data) {\n      console.log(this.props.data);\n    }\n\n    return React.createElement(DataView, {\n      elementId: \"crosstab\",\n      fields: this.props.fields,\n      data: this.props.data,\n      selectedGroup: this.props.selectedGroup,\n      selectedQuestion: this.props.selectedQuestion,\n      renderFunction: this.renderCrossTabs,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 9\n      },\n      __self: this\n    });\n  }\n\n  renderCrossTabs(elementId, selectedGroup, selectedQuestion, data, fields) {\n    let cleanData = data.map(x => {\n      return {\n        group: x[selectedGroup],\n        response: x[selectedQuestion]\n      };\n    });\n\n    if (fields[selectedQuestion].numeric) {\n      $(`#${elementId}`).pivot(cleanData, {\n        rows: [\"group\"],\n        aggregator: $.pivotUtilities.aggregators[\"Average\"]([\"response\"])\n      });\n    } else {\n      $(`#${elementId}`).pivot(cleanData, {\n        rows: [\"group\"],\n        cols: [\"response\"],\n        aggregator: $.pivotUtilities.aggregators[\"Count\"]()\n      });\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/Kevin/Documents/GitHub/Understanding-Economics.github.io/src/components/CrossTabView.js"],"names":["React","Component","DataView","CrossTabView","render","props","data","console","log","fields","selectedGroup","selectedQuestion","renderCrossTabs","elementId","cleanData","map","x","group","response","numeric","$","pivot","rows","aggregator","pivotUtilities","aggregators","cols"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,YAArB;AAEA,eAAe,MAAMC,YAAN,SAA2BF,SAA3B,CAAoC;AAC/CG,EAAAA,MAAM,GAAG;AACL,QAAI,KAAKC,KAAL,CAAWC,IAAf,EAAqB;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKH,KAAL,CAAWC,IAAvB;AACH;;AACD,WAAO,oBAAC,QAAD;AACK,MAAA,SAAS,EAAG,UADjB;AAEK,MAAA,MAAM,EAAK,KAAKD,KAAL,CAAWI,MAF3B;AAGK,MAAA,IAAI,EAAK,KAAKJ,KAAL,CAAWC,IAHzB;AAIK,MAAA,aAAa,EAAK,KAAKD,KAAL,CAAWK,aAJlC;AAKK,MAAA,gBAAgB,EAAK,KAAKL,KAAL,CAAWM,gBALrC;AAMK,MAAA,cAAc,EAAK,KAAKC,eAN7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAQH;;AAEDA,EAAAA,eAAe,CAACC,SAAD,EAAYH,aAAZ,EAA2BC,gBAA3B,EAA6CL,IAA7C,EAAmDG,MAAnD,EAA2D;AACtE,QAAIK,SAAS,GAAGR,IAAI,CAACS,GAAL,CAAUC,CAAD,IAAO;AAAE,aAAO;AAACC,QAAAA,KAAK,EAAGD,CAAC,CAACN,aAAD,CAAV;AAA2BQ,QAAAA,QAAQ,EAAGF,CAAC,CAACL,gBAAD;AAAvC,OAAP;AAAmE,KAArF,CAAhB;;AACA,QAAGF,MAAM,CAACE,gBAAD,CAAN,CAAyBQ,OAA5B,EAAqC;AACjCC,MAAAA,CAAC,CAAE,IAAGP,SAAU,EAAf,CAAD,CAAmBQ,KAAnB,CAAyBP,SAAzB,EACI;AACIQ,QAAAA,IAAI,EAAG,CAAC,OAAD,CADX;AAEIC,QAAAA,UAAU,EAAEH,CAAC,CAACI,cAAF,CAAiBC,WAAjB,CAA6B,SAA7B,EAAwC,CAAC,UAAD,CAAxC;AAFhB,OADJ;AAKH,KAND,MAOK;AACDL,MAAAA,CAAC,CAAE,IAAGP,SAAU,EAAf,CAAD,CAAmBQ,KAAnB,CAAyBP,SAAzB,EACI;AACIQ,QAAAA,IAAI,EAAG,CAAC,OAAD,CADX;AAEII,QAAAA,IAAI,EAAE,CAAC,UAAD,CAFV;AAGIH,QAAAA,UAAU,EAAEH,CAAC,CAACI,cAAF,CAAiBC,WAAjB,CAA6B,OAA7B;AAHhB,OADJ;AAMH;AACJ;;AAhC8C","sourcesContent":["import React, { Component } from 'react'\nimport DataView from './DataView'\n\nexport default class CrossTabView extends Component{\n    render() {\n        if (this.props.data) {\n            console.log(this.props.data);\n        }\n        return <DataView \n                    elementId = \"crosstab\" \n                    fields = { this.props.fields }\n                    data = { this.props.data }\n                    selectedGroup = { this.props.selectedGroup }\n                    selectedQuestion = { this.props.selectedQuestion }\n                    renderFunction = { this.renderCrossTabs }\n                />\n    }\n\n    renderCrossTabs(elementId, selectedGroup, selectedQuestion, data, fields) {\n        let cleanData = data.map((x) => { return {group : x[selectedGroup], response : x[selectedQuestion]} });\n        if(fields[selectedQuestion].numeric) {\n            $(`#${elementId}`).pivot(cleanData, \n                {\n                    rows : [\"group\"],\n                    aggregator: $.pivotUtilities.aggregators[\"Average\"]([\"response\"])\n                });\n        }\n        else {\n            $(`#${elementId}`).pivot(cleanData, \n                {\n                    rows : [\"group\"],\n                    cols: [\"response\"],\n                    aggregator: $.pivotUtilities.aggregators[\"Count\"]()\n                });\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}