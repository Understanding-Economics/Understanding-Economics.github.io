{"ast":null,"code":"var _jsxFileName = \"/Users/Kevin/Documents/GitHub/Understanding-Economics.github.io/src/components/DataPage.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport CrossTabView from './CrossTabView';\nimport ChartView from './ChartView';\nimport FieldSelect from './FieldSelect';\nimport { surveys, groups } from '../config/fields.json';\nexport default class DataPage extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      selectedGroup: undefined,\n      selectedTopic: undefined,\n      selectedQuestion: undefined\n    };\n    this.handleGroupSelect = this.handleGroupSelect.bind(this);\n    this.handleTopicSelect = this.handleTopicSelect.bind(this);\n    this.handleQuestionSelect = this.handleQuestionSelect.bind(this);\n  }\n\n  componentWillMount() {\n    this.survey = surveys[this.props.surveyId];\n  }\n\n  render() {\n    if (this.props.surveyId == null) {\n      throw new Error(\"Expected a survey id\");\n    }\n\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(FieldSelect, {\n      title: \"Group\",\n      description: \"Select how you would like to group responses\",\n      options: groups,\n      selected: this.state.selectedGroup,\n      handleSelect: this.handleGroupSelect,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(FieldSelect, {\n      title: \"Topic\",\n      description: \"Select a topic that you would like to examine\",\n      options: this.survey.topics,\n      selected: this.state.selectedTopic,\n      handleSelect: this.handleTopicSelect,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(FieldSelect, {\n      title: \"Question\",\n      description: \"Select a question to examine\",\n      options: this.state.selectedTopic ? this.survey.topics[this.state.selectedTopic].questions : null,\n      selected: this.state.selectedQuestion,\n      handleSelect: this.handleQuestionSelect,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(ChartView, {\n      survey: this.survey,\n      data: this.state.surveyData,\n      selectedGroup: groups[this.state.selectedGroup],\n      selectedQuestion: this.state.selectedQuestion ? this.survey.topics[this.state.selectedTopic].questions[this.state.selectedQuestion] : null,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(CrossTabView, {\n      survey: this.survey,\n      data: this.state.surveyData,\n      selectedGroup: groups[this.state.selectedGroup],\n      selectedQuestion: this.state.selectedQuestion ? this.survey.topics[this.state.selectedTopic].questions[this.state.selectedQuestion] : null,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })));\n  }\n\n  componentDidMount() {\n    document.title = surveys[this.props.surveyId].title;\n    d3.csv(`${process.env.PUBLIC_URL}/data/data_${this.props.surveyId}.csv`).then(data => {\n      this.setState({\n        surveyData: data\n      });\n    });\n  }\n\n  handleGroupSelect(event) {\n    this.setState({\n      selectedGroup: event.target.value\n    });\n  }\n\n  handleTopicSelect(event) {\n    this.setState({\n      selectedTopic: event.target.value,\n      selectedQuestion: undefined\n    });\n  }\n\n  handleQuestionSelect(event) {\n    this.setState({\n      selectedQuestion: event.target.value\n    });\n  }\n\n}\nDataPage.propTypes = {\n  survey: PropTypes.object\n};","map":{"version":3,"sources":["/Users/Kevin/Documents/GitHub/Understanding-Economics.github.io/src/components/DataPage.js"],"names":["React","PropTypes","CrossTabView","ChartView","FieldSelect","surveys","groups","DataPage","Component","constructor","state","selectedGroup","undefined","selectedTopic","selectedQuestion","handleGroupSelect","bind","handleTopicSelect","handleQuestionSelect","componentWillMount","survey","props","surveyId","render","Error","topics","questions","surveyData","componentDidMount","document","title","d3","csv","process","env","PUBLIC_URL","then","data","setState","event","target","value","propTypes","object"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport CrossTabView from './CrossTabView'\nimport ChartView from './ChartView'\nimport FieldSelect from './FieldSelect'\nimport { surveys, groups } from '../config/fields.json'\n\nexport default class DataPage extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            selectedGroup : undefined,\n            selectedTopic : undefined,\n            selectedQuestion : undefined\n        }\n        this.handleGroupSelect = this.handleGroupSelect.bind(this);\n        this.handleTopicSelect = this.handleTopicSelect.bind(this);\n        this.handleQuestionSelect = this.handleQuestionSelect.bind(this); \n    }\n    componentWillMount() {\n        this.survey = surveys[this.props.surveyId];\n    }\n\n    render() {\n        if (this.props.surveyId == null) {\n            throw new Error(\"Expected a survey id\");\n        }\n        return (\n            <div className = \"container\">\n                <div className = \"row\">\n                <div className = \"col-md-6\">\n                    <FieldSelect \n                        title = \"Group\"\n                        description = \"Select how you would like to group responses\"\n                        options = { groups }\n                        selected = {this.state.selectedGroup}\n                        handleSelect = {this.handleGroupSelect}\n                    />\n                </div>\n                <div className = \"col-md-6\">\n                    <FieldSelect\n                        title = \"Topic\"\n                        description = \"Select a topic that you would like to examine\"\n                        options = { this.survey.topics }\n                        selected = {this.state.selectedTopic}\n                        handleSelect = {this.handleTopicSelect}\n                    />\n                </div>\n                <div className = \"col-md-6\">\n                    <FieldSelect\n                        title = \"Question\"\n                        description = \"Select a question to examine\"\n                        options = {this.state.selectedTopic ? \n                            this.survey.topics[this.state.selectedTopic].questions :\n                            null\n                        }\n                        selected = {this.state.selectedQuestion}\n                        handleSelect = {this.handleQuestionSelect}\n                    />\n                </div>\n                </div>\n                \n                <div className = \"row\">\n                    <ChartView\n                        survey = { this.survey } \n                        data = { this.state.surveyData }\n                        selectedGroup = { groups[this.state.selectedGroup] }\n                        selectedQuestion = { this.state.selectedQuestion ? \n                            this.survey.topics[this.state.selectedTopic].questions[this.state.selectedQuestion] : null\n                        } \n                    />\n                </div>\n                <div className = \"row\">\n                    <CrossTabView\n                        survey = { this.survey } \n                        data = { this.state.surveyData }\n                        selectedGroup = { groups[this.state.selectedGroup] }\n                        selectedQuestion = { this.state.selectedQuestion ? \n                            this.survey.topics[this.state.selectedTopic].questions[this.state.selectedQuestion] : null\n                        } \n                    />\n                </div>\n            </div>\n        )\n    }\n\n    componentDidMount() {\n        document.title = surveys[this.props.surveyId].title;\n        d3.csv(`${process.env.PUBLIC_URL}/data/data_${this.props.surveyId}.csv`).then((data) => {\n          this.setState({\n            surveyData : data\n          })\n        });\n      }\n\n    handleGroupSelect(event) {\n        this.setState({\n            selectedGroup : event.target.value\n        })\n    }\n\n    handleTopicSelect(event) {\n        this.setState({\n            selectedTopic : event.target.value,\n            selectedQuestion : undefined\n        })\n    }\n    \n    handleQuestionSelect(event) {\n        this.setState({\n            selectedQuestion : event.target.value\n        })\n    }\n}\n\nDataPage.propTypes = {\n    survey : PropTypes.object\n}"]},"metadata":{},"sourceType":"module"}