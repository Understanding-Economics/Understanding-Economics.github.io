{"ast":null,"code":"import _classCallCheck from\"/Users/Kevin/Documents/GitHub/Understanding-Economics.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Kevin/Documents/GitHub/Understanding-Economics.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Kevin/Documents/GitHub/Understanding-Economics.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Kevin/Documents/GitHub/Understanding-Economics.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/Kevin/Documents/GitHub/Understanding-Economics.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import DataView from'./DataView';var ChartView=/*#__PURE__*/function(_React$Component){_inherits(ChartView,_React$Component);function ChartView(){_classCallCheck(this,ChartView);return _possibleConstructorReturn(this,_getPrototypeOf(ChartView).apply(this,arguments));}_createClass(ChartView,[{key:\"render\",value:function render(){return React.createElement(DataView,{elementId:\"chart\",survey:this.props.survey,data:this.props.data,selectedGroup:this.props.selectedGroup,selectedQuestion:this.props.selectedQuestion,renderFunction:this.renderChart});}},{key:\"renderChart\",value:function renderChart(elementId,selectedGroup,selectedQuestion,data){var cleanData=data.map(function(x){var newX={};newX[selectedGroup.title]=x[selectedGroup.id];newX[\"response\"]=x[selectedQuestion.id]||\" No response\";return newX;});if(selectedQuestion.numeric){$(\"#\".concat(elementId)).pivot(cleanData,{rows:[selectedGroup.title],aggregator:$.pivotUtilities.aggregators[\"Average\"]([\"response\"]),renderer:$.pivotUtilities.c3_renderers[\"Horizontal Bar Chart\"],rowOrder:\"value_z_to_a\"});}else{$(\"#\".concat(elementId)).pivot(cleanData,{rows:[selectedGroup.title],cols:[\"response\"],aggregator:$.pivotUtilities.aggregators[\"Count as Fraction of Rows\"](),renderer:$.pivotUtilities.c3_renderers[\"Horizontal Stacked Bar Chart\"],rowOrder:\"value_z_to_a\",colOrder:\"value_z_to_a\"});document.getElementById(\"chart\").getElementsByTagName(\"p\")[0].remove();}}}]);return ChartView;}(React.Component);export{ChartView as default};","map":{"version":3,"sources":["/Users/Kevin/Documents/GitHub/Understanding-Economics.github.io/src/components/ChartView.js"],"names":["React","DataView","ChartView","props","survey","data","selectedGroup","selectedQuestion","renderChart","elementId","cleanData","map","x","newX","title","id","numeric","$","pivot","rows","aggregator","pivotUtilities","aggregators","renderer","c3_renderers","rowOrder","cols","colOrder","document","getElementById","getElementsByTagName","remove","Component"],"mappings":"45BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,C,GAEqBC,CAAAA,S,2RACR,CACL,MAAO,qBAAC,QAAD,EACK,SAAS,CAAG,OADjB,CAEK,MAAM,CAAK,KAAKC,KAAL,CAAWC,MAF3B,CAGK,IAAI,CAAK,KAAKD,KAAL,CAAWE,IAHzB,CAIK,aAAa,CAAK,KAAKF,KAAL,CAAWG,aAJlC,CAKK,gBAAgB,CAAK,KAAKH,KAAL,CAAWI,gBALrC,CAMK,cAAc,CAAK,KAAKC,WAN7B,EAAP,CAQH,C,gDAEWC,S,CAAWH,a,CAAeC,gB,CAAkBF,I,CAAM,CAC1D,GAAIK,CAAAA,SAAS,CAAGL,IAAI,CAACM,GAAL,CAAS,SAAAC,CAAC,CAAI,CAC1B,GAAIC,CAAAA,IAAI,CAAG,EAAX,CACAA,IAAI,CAACP,aAAa,CAACQ,KAAf,CAAJ,CAA4BF,CAAC,CAACN,aAAa,CAACS,EAAf,CAA7B,CACAF,IAAI,CAAC,UAAD,CAAJ,CAAmBD,CAAC,CAACL,gBAAgB,CAACQ,EAAlB,CAAD,EAA0B,cAA7C,CACA,MAAOF,CAAAA,IAAP,CACH,CALe,CAAhB,CAMA,GAAGN,gBAAgB,CAACS,OAApB,CAA6B,CACzBC,CAAC,YAAKR,SAAL,EAAD,CAAmBS,KAAnB,CAAyBR,SAAzB,CACI,CACIS,IAAI,CAAG,CAACb,aAAa,CAACQ,KAAf,CADX,CAEIM,UAAU,CAAEH,CAAC,CAACI,cAAF,CAAiBC,WAAjB,CAA6B,SAA7B,EAAwC,CAAC,UAAD,CAAxC,CAFhB,CAGIC,QAAQ,CAAEN,CAAC,CAACI,cAAF,CAAiBG,YAAjB,CAA8B,sBAA9B,CAHd,CAIIC,QAAQ,CAAE,cAJd,CADJ,EAOH,CARD,IASK,CACDR,CAAC,YAAKR,SAAL,EAAD,CAAmBS,KAAnB,CAAyBR,SAAzB,CAAoC,CAChCS,IAAI,CAAG,CAACb,aAAa,CAACQ,KAAf,CADyB,CAEhCY,IAAI,CAAE,CAAC,UAAD,CAF0B,CAGhCN,UAAU,CAAEH,CAAC,CAACI,cAAF,CAAiBC,WAAjB,CAA6B,2BAA7B,GAHoB,CAIhCC,QAAQ,CAAEN,CAAC,CAACI,cAAF,CAAiBG,YAAjB,CAA8B,8BAA9B,CAJsB,CAKhCC,QAAQ,CAAE,cALsB,CAKNE,QAAQ,CAAE,cALJ,CAApC,EAOAC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,oBAAjC,CAAsD,GAAtD,EAA2D,CAA3D,EAA8DC,MAA9D,GACH,CACJ,C,uBAtCkC/B,KAAK,CAACgC,S,SAAxB9B,S","sourcesContent":["import React from 'react'\nimport DataView from './DataView'\n\nexport default class ChartView extends React.Component { \n    render() {\n        return <DataView\n                    elementId = \"chart\"\n                    survey = { this.props.survey }\n                    data = { this.props.data }\n                    selectedGroup = { this.props.selectedGroup }\n                    selectedQuestion = { this.props.selectedQuestion }\n                    renderFunction = { this.renderChart }\n                />\n    }\n\n    renderChart(elementId, selectedGroup, selectedQuestion, data) {\n        let cleanData = data.map(x => {\n            let newX = {};\n            newX[selectedGroup.title] = x[selectedGroup.id];\n            newX[\"response\"] = x[selectedQuestion.id] || \" No response\";\n            return newX;\n        })\n        if(selectedQuestion.numeric) {\n            $(`#${elementId}`).pivot(cleanData, \n                {\n                    rows : [selectedGroup.title],\n                    aggregator: $.pivotUtilities.aggregators[\"Average\"]([\"response\"]),\n                    renderer: $.pivotUtilities.c3_renderers[\"Horizontal Bar Chart\"],\n                    rowOrder: \"value_z_to_a\"\n                });\n        }\n        else { \n            $(`#${elementId}`).pivot(cleanData, {\n                rows : [selectedGroup.title],\n                cols: [\"response\"],\n                aggregator: $.pivotUtilities.aggregators[\"Count as Fraction of Rows\"](),\n                renderer: $.pivotUtilities.c3_renderers[\"Horizontal Stacked Bar Chart\"],\n                rowOrder: \"value_z_to_a\", colOrder: \"value_z_to_a\",\n            });\n            document.getElementById(\"chart\").getElementsByTagName(\"p\")[0].remove();\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}